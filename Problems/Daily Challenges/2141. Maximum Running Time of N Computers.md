[2141. Maximum Running Time of N Computers](https://leetcode.com/problems/maximum-running-time-of-n-computers/)

# Intuition

All computers must run simultaneously for the same duration `T`.
To run `n` computers for `T` minutes, the **total usable battery capacity** must be at least:

```
n * T
```

Since batteries can be swapped instantly and reused across devices, the only restriction is that no battery can contribute more than its stored charge.

So for a target time `T`, the total usable time is:

```
sum(min(battery[i], T))   across all batteries
```

If this sum ≥ `n * T`, then running all computers for `T` minutes is possible.

The relationship between time and feasibility is monotonic:
If you can run for time `T`, you can run for time `T-1`, meaning we can use binary search on `T`.

---

# Approach

1. Compute sum of all battery charge.
2. Let the search range for answer be:

   * `low = 0`
   * `high = totalBattery // n` (upper bound)
3. Binary search:

   * For mid = `(low + high) // 2`, calculate `usable = sum(min(b, mid))`.
   * If `usable >= n * mid`, mid is feasible → move `low` up.
   * Otherwise → move `high` down.
4. Return maximum feasible `low`.

---

# Complexity

* Sorting not required.
* Binary search runs in `O(log(sum/n))`
* Each check is `O(len(batteries))`

**Total: `O(n log M)`**, where `M` is the max possible running time.

**Space:** `O(1)`.

---

# Code

```ts
function maxRunTime(n: number, batteries: number[]): number {
    let total = batteries.reduce((a, b) => a + b, 0);
    let low = 0, high = Math.floor(total / n);

    while (low < high) {
        const mid = Math.floor((low + high + 1) / 2);
        let usable = 0;

        for (const b of batteries) {
            usable += Math.min(b, mid);
        }

        if (usable >= mid * n) {
            low = mid;
        } else {
            high = mid - 1;
        }
    }

    return low;
};

```

---

### Example Walkthrough

#### Example:

```
n = 2
batteries = [3,3,3]
total = 9
high = 9//2 = 4
```

Binary search:

| mid | usable = min-contributions | need = mid*n | feasible |
| --- | -------------------------- | ------------ | -------- |
| 4   | 3+3+3 = 9                  | 8            | Yes      |
| 5   | 3+3+3 = 9                  | 10           | No       |

So max time = 4.


**Result:** `4`

