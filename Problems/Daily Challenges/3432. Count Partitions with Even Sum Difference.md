### Key Insight

We want:

```
(left - right) % 2 == 0
→ (left - (total - left)) % 2 == 0
→ (2*left - total) % 2 == 0
```

Modulo-2 facts:

* `2 * left % 2 == 0`
* So condition simplifies to:

```
-total % 2 == 0
→ total % 2 == 0
```

So:

**If the total sum is even → EVERY partition is valid.
If the total sum is odd → NO partition is valid.**

Nothing depends on prefix parity.

### Final Rule

```
if total % 2 == 0 → answer = n - 1
else → answer = 0
```

---

# Code

```ts
function countPartitions(nums: number[]): number {
    const total = nums.reduce((a, b) => a + b, 0);
    return total % 2 === 0 ? nums.length - 1 : 0;
};

```

---

# Example Walkthrough

```
nums = [10,10,3,7,6]
total = 36 (even)
valid partitions = n - 1 = 5 - 1 = 4
```

Output:

```
4
```


---

### Example Walkthrough

**Input:**

```
nums = [10,10,3,7,6]
```

Total = `36` → even.

**Prefix sums:**

| i | Prefix | Even? | Valid |
| - | ------ | ----- | ----- |
| 0 | 10     | Yes   | ✓     |
| 1 | 20     | Yes   | ✓     |
| 2 | 23     | No    | ✗     |
| 3 | 30     | Yes   | ✓     |

Count = `4`

**Output:**

```
4
```

---

## Summary

* No prefix sum tracking needed.
* Only total parity matters.
* If total is even → all partitions valid.
