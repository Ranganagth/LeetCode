[611. Valid Triangle Number](https://leetcode.com/problems/valid-triangle-number/)

# Intuition

To form a triangle with three sides `a, b, c`, the **triangle inequality** must hold:

```
a + b > c
b + c > a
c + a > b
```

If we **sort** the array (`a ≤ b ≤ c`), we only need to check:

```
a + b > c
```

(because the other two inequalities are automatically true).

So the problem reduces to:

* Count all triplets `(i, j, k)` such that `nums[i] + nums[j] > nums[k]`.

---

# Approach

1. **Sort the array** in ascending order.
2. Fix the **largest side** (`nums[k]`) as the third index in a triplet.
3. Use **two pointers**:

   * Left pointer `i = 0`
   * Right pointer `j = k - 1`
   * While `i < j`:

     * If `nums[i] + nums[j] > nums[k]`:
       → All pairs between `i` and `j` are valid (`j - i` triangles).
       → Move `j--`
     * Else:
       → Increase `i` (need a bigger sum).
4. Repeat for all `k` (from `2` to `n-1`).

---

# Complexity

* Sorting: `O(n log n)`
* Two-pointer traversal per element: `O(n^2)`
* Total: **O(n^2)**
* Space: **O(1)** extra (in-place).

---

# Code

```typescript
function triangleNumber(nums: number[]): number {
    nums.sort((a, b) => a - b);
    let count = 0;
    const n = nums.length;

    for (let k = n - 1; k >= 2; k--) {
        let i = 0, j = k - 1;

        while (i < j) {
            if (nums[i] + nums[j] > nums[k]) {
                // all pairs between i and j work
                count += (j - i);
                j--;
            } else {
                i++;
            }
        }
    }

    return count;
};

```

---

## Example Walkthrough

Input:

```
nums = [2,2,3,4]
```

1. Sort → `[2,2,3,4]`
2. `k = 3` (nums[k] = 4):

   * i = 0, j = 2
   * nums[0]+nums[2] = 2+3=5 > 4 → valid → count += (2-0)=2 → j=1
   * i = 0, j = 1
   * nums[0]+nums[1] = 4 ≤ 4 → i=1
   * Done (count=2)
3. `k = 2` (nums[k] = 3):

   * i = 0, j = 1
   * nums[0]+nums[1] = 4 > 3 → valid → count += (1-0)=1 → j=0
   * Done (count=3)
4. `k=1` stop (need at least 3 numbers).

Final Answer = **3** 

---
