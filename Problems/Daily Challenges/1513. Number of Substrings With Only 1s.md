[1513. Number of Substrings With Only 1s](https://leetcode.com/problems/number-of-substrings-with-only-1s/)

# Intuition

A substring containing only `'1'`s must lie entirely inside a **contiguous block of 1s**.
If a block has length `k`, the number of all-1 substrings inside it is:
$$
1 + 2 + 3 + \dots + k = \frac{k(k+1)}{2}
$$

So the problem reduces to scanning the string, finding each consecutive run of `'1'`, and summing this formula for all runs.

---

# Approach

1. Scan the string once.
2. Maintain a counter `cnt` for current consecutive 1s.
3. When you see `'1'`, increment `cnt`.
4. When you see `'0'`, close the block:

   * Add `cnt * (cnt + 1) / 2` to the answer.
   * Reset `cnt = 0`.
5. After the loop, add the last block (if string ended with 1s).
6. Return answer mod `1e9+7`.

This is optimal: every character is processed once.

---

# Complexity

* **Time:** O(n)
* **Space:** O(1)

---

# Code

```typescript
function numSub(s: string): number {
    const MOD = 1_000_000_007;
    let cnt = 0;
    let ans = 0;

    for (const ch of s) {
        if (ch === '1') {
            cnt++;
        } else {
            if (cnt > 0) {
                ans = (ans + (cnt * (cnt + 1)) / 2) % MOD;
                cnt = 0;
            }
        }
    }

    // Add the final block of 1s if it ends with ones
    if (cnt > 0) {
        ans = (ans + (cnt * (cnt + 1)) / 2) % MOD;
    }

    return ans;
};

```

---

# Example Walkthrough

### Example 1

`s = "0110111"`

Split into blocks of 1s:

* `"11"` → length 2 → contributes 3 substrings
* `"111"` → length 3 → contributes 6 substrings

Total: `3 + 6 = 9`

### Example 2

`s = "101"`
Blocks: `"1"`, `"1"` → contributes `1 + 1 = 2`.

### Example 3

`s = "111111"`
Block length = 6
$$\frac{6 \times 7}{2} = 21$$


Matches expected output.
