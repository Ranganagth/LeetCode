[868. Binary Gap](https://leetcode.com/problems/binary-gap/)

# Intuition

Binary representation contains positions of `1` bits.

Example:

```
22 → 10110
index (right → left):

bit position:
0 1 2 3 4
0 1 1 0 1
```

Adjacent `1`s mean:

* choose **consecutive occurrences of `1` bits**
* count distance between their positions.

Example:

```
10110

1 at position 1
1 at position 2 → distance = 1

1 at position 2
1 at position 4 → distance = 2
```

Maximum distance = `2`.

Only consecutive `1`s matter.
Pairs skipping another `1` are invalid.

---

# Approach

Scan bits from right to left.

Maintain:

```
previous position of 1
```

Whenever a new `1` appears:

```
distance = currentPosition − previousPosition
```

Update maximum.

### Why Bit Manipulation

Avoid string conversion.

Efficient:

```
check last bit → n & 1
shift right → n >> 1
```

## Algorithm

```
position = 0
prev = -1
maxDistance = 0

while n > 0:

    if last bit == 1:

        if prev exists:
            compute distance

        update prev

    shift n right
    increase position
```

---

# Complexity

Let:

```
number of bits ≤ 31 (since n ≤ 1e9)
```

**Time Complexity:**

```
O(log n)
```

**Space Complexity:**

```
O(1)
```

---

# Code

```typescript
function binaryGap(n: number): number {

    let prev = -1;
    let pos = 0;
    let ans = 0;

    while (n > 0) {

        // check last bit
        if ((n & 1) === 1) {

            if (prev !== -1) {
                ans = Math.max(ans, pos - prev);
            }

            prev = pos;
        }

        n >>= 1; // shift right
        pos++;
    }

    return ans;
};

```

---

# Example Walkthrough

## Example 1

```
n = 22
binary = 10110
```

Traversal:

```
pos0 → 0

pos1 → 1
prev = 1

pos2 → 1
distance = 2 - 1 = 1
max = 1

pos3 → 0

pos4 → 1
distance = 4 - 2 = 2
max = 2
```

Answer:

```
2
```

---

## Example 2

```
n = 8
binary = 1000
```

Only one `1`.

No pair exists.

Answer:

```
0
```

---

## Example 3

```
n = 5
binary = 101
```

Positions:

```
pos0 → 1
pos2 → 1
distance = 2
```

Answer:

```
2
```
