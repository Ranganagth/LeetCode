[3047. Find the Largest Area of Square Inside Two Rectangles](https://leetcode.com/problems/find-the-largest-area-of-square-inside-two-rectangles/)

# Intuition

A square can fit inside the **intersection region** of two (or more) rectangles only if that intersection itself has **positive width and height**.

For any two rectangles:

* Their intersection is another axis-aligned rectangle.
* The **largest square** that fits inside that intersection has side length:

```
side = min(intersection width, intersection height)
```

So the task reduces to:

* Check **all pairs of rectangles**
* Compute their intersection dimensions
* Track the **maximum possible square side**
* Return its **area**

If no pair intersects → answer is `0`.

Given `n ≤ 1000`, an `O(n²)` solution is acceptable.

---

# Approach

For every pair `(i, j)` where `i < j`:

1. Compute intersection rectangle:

   ```
   left   = max(x1_i, x1_j)
   right  = min(x2_i, x2_j)
   bottom = max(y1_i, y1_j)
   top    = min(y2_i, y2_j)
   ```
2. Intersection width = `right - left`
3. Intersection height = `top - bottom`
4. If both are positive:

   ```
   squareSide = min(width, height)
   ```
5. Update maximum square side
6. Return `maxSide * maxSide`

## Why This Works

* A square must be **fully inside** the overlap
* Best square always aligns with rectangle edges
* Any intersection of ≥2 rectangles is still captured by pairwise checks
* Higher-order intersections do not produce larger squares than their defining pairs

---

# Complexity

* **Time:** `O(n²)`
* **Space:** `O(1)`
* Efficient and optimal under constraints

---

# Code

```ts
function largestSquareArea(
    bottomLeft: number[][],
    topRight: number[][],
): number {
    const n = bottomLeft.length;
    let maxSide = 0;

    for (let i = 0; i < n; i++) {
        const [x1a, y1a] = bottomLeft[i];
        const [x2a, y2a] = topRight[i];

        for (let j = i + 1; j < n; j++) {
            const [x1b, y1b] = bottomLeft[j];
            const [x2b, y2b] = topRight[j];

            const left = Math.max(x1a, x1b);
            const right = Math.min(x2a, x2b);
            const bottom = Math.max(y1a, y1b);
            const top = Math.min(y2a, y2b);

            const width = right - left;
            const height = top - bottom;

            if (width > 0 && height > 0) {
                maxSide = Math.max(maxSide, Math.min(width, height));
            }
        }
    }

    return maxSide * maxSide;
};

```

---

# Example Walkthrough

### Example 1

```
Rectangles:
0: [1,1] → [3,3]
1: [2,2] → [4,4]
```

Intersection:

```
x: [2,3] → width = 1
y: [2,3] → height = 1
```

Square side = 1
Area = `1`


### Example 2

```
0: [1,1] → [5,5]
1: [1,3] → [5,7]
```

Intersection:

```
width = 4
height = 2
```

Square side = `2`
Area = `4`

### Example 3

No intersections → result `0`

---

## Final Insight

* Intersection geometry simplifies to **min-max arithmetic**
* Largest square = min(overlap width, overlap height)
* Pairwise evaluation is sufficient
* No advanced geometry or sweepline needed
