[3713. Longest Balanced Substring I](https://leetcode.com/problems/longest-balanced-substring-i/)

# Intuition

A substring is **balanced** when every character appearing in it has the **same frequency**.

For any substring `[l, r]`:

Let

```
freq[c] = occurrences of character c in substring
```

The substring is balanced if:

```
max(freq) == min(freq)   (consider only characters present)
```

Since `|s| ≤ 1000`, an `O(n² * alphabet)` solution is easily fast enough.

For each starting index `i`, expand the substring to the right while maintaining character counts and track:

* number of distinct characters
* maximum frequency
* substring length

A substring is balanced when:

```
substring_length == distinct_chars * max_frequency
```

because all characters must have frequency equal to `max_frequency`.

---

# Approach

For every index `i`:

1. Reset a frequency array of size 26.
2. Expand `j` from `i` to end.
3. Update:

   * freq of current character
   * distinct count
   * max frequency
4. If:

```
(j - i + 1) == distinct * maxFreq
```

update answer.

---

# Complexity

```
Outer loop: n
Inner loop: n
Alphabet operations: constant (26)

Time:  O(n²)
Space: O(1)
```

---

# Code

```ts
function longestBalanced(s: string): number {
    const n = s.length;
    let ans = 0;

    for (let i = 0; i < n; i++) {
        const freq = new Array(26).fill(0);
        let distinct = 0;
        let maxFreq = 0;

        for (let j = i; j < n; j++) {
            const idx = s.charCodeAt(j) - 97;

            if (freq[idx] === 0) distinct++;
            freq[idx]++;
            maxFreq = Math.max(maxFreq, freq[idx]);

            const len = j - i + 1;

            if (len === distinct * maxFreq) {
                ans = Math.max(ans, len);
            }
        }
    }

    return ans;
};

```

---

# Example Walkthrough

### Input

```
s = "abbac"
```

Start at index `0`:

```
a       -> freq[a]=1 → balanced length=1
ab      -> a=1,b=1 → balanced length=2
abb     -> a=1,b=2 → not balanced
abba    -> a=2,b=2 → balanced length=4
abbac   -> a=2,b=2,c=1 → not balanced
```

Maximum found:

```
4
```

Output:

```
4
```
