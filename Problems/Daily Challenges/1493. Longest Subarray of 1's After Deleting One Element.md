## Problem Restatement

You’re given a binary array (`nums`). You must **delete exactly one element**, then return the size of the **longest subarray containing only `1`s**.
If the array is all `1`s, you still must delete one element, so the answer is `nums.length - 1`.

---

# Intuition

* We want the **longest sequence of consecutive 1s** after deleting **one element**.
* Deleting one element means we can treat it as **splitting the array at that point**.

  * If we delete a `0`, it connects the sequences of 1s on both sides.
  * If we delete a `1`, it simply reduces the count of one subarray of 1s.

So, the core idea is:
Find the **longest window of 1s allowing at most one zero inside**.
That "one zero" is the one we are deleting.

---

# Approach (Sliding Window)

1. Use **sliding window (two pointers)**.
2. Maintain:

   * `left`: start of window.
   * `zeros`: count of zeros in current window.
3. Expand `right` pointer through the array.

   * If `zeros > 1`, shrink from the left until `zeros <= 1`.
4. The window `[left, right]` now has **at most one zero**.
   Since we delete one element, the valid subarray length is `right - left` (not `+1`), because one element (zero or one) is deleted.
5. Keep track of the maximum length.

---

# Complexity

* **Time:** O(n) → single pass through the array.
* **Space:** O(1) → only a few variables.

---

# Code

```typescript
function longestSubarray(nums: number[]): number {
    let left = 0;
    let zeros = 0;
    let maxOnes = 0;

    for (let right = 0; right < nums.length; right++) {
        if (nums[right] === 0) {
            zeros++;
        }

        while (zeros > 1) {
            if (nums[left] === 0) {
                zeros--;
            }
            left++;
        }

        // -1 because we must delete one element
        maxOnes = Math.max(maxOnes, right - left);
    }

    return maxOnes;
};

```

---

## **Examples Walkthrough**

### Example 1

```ts
nums = [1,1,0,1]
```

* Window expands:

  * `[1,1,0,1]` → maxLen = 3 (delete the 0).
* **Answer = 3**

---

### Example 2

```ts
nums = [0,1,1,1,0,1,1,0,1]
```

* Best choice: delete the zero at index `4`.
* Longest run = `5` (`[1,1,1,1,1]`).
* **Answer = 5**

---

### Example 3

```ts
nums = [1,1,1]
```

* All are ones, but you **must delete one element**.
* So result = `3 - 1 = 2`.
* **Answer = 2**

---

**Key takeaway:** This is a **sliding window problem with at most one zero allowed**, subtracting one for the deletion.
