[3100. Water Bottles II](https://leetcode.com/problems/water-bottles-ii/)

# Intuition

* You start with some **full bottles**.
* Each time you **drink**, you:

  * Increase your count of bottles drunk.
  * Gain the same number of **empty bottles**.
* You can **exchange** empty bottles for **1 full bottle**, but:

  * Each exchange requires `numExchange` empty bottles.
  * After each successful exchange, `numExchange` increases by 1 (makes it harder to trade again).

So the challenge is simulating this process carefully:

* Always drink all full bottles (since drinking is always good).
* Try to exchange as long as you have enough empties.

---

# Approach

1. Initialize:

   * `drunk = numBottles` (we will eventually drink all the initial full bottles).
   * `empty = numBottles` (after drinking them).
2. While we can still exchange:

   * If `empty >= numExchange`, exchange once:

     * Decrease `empty` by `numExchange`.
     * Add 1 full bottle → drink it immediately:

       * `drunk++`
       * `empty++` (since it becomes empty).
     * Increase `numExchange++` (more costly next time).
   * Else, break.
3. Return `drunk`.

---

# Complexity

* Each loop iteration increases `numExchange` by 1, max up to 200 (since `numExchange ≤ 100` and `numBottles ≤ 100`).
* So at most **200 iterations**.
* **Time Complexity:** `O(numBottles + numExchange)` → practically `O(200)` = constant.
* **Space Complexity:** `O(1)`.

---

# Code

```typescript
function maxBottlesDrunk(numBottles: number, numExchange: number): number {
    let drunk = numBottles;  // total bottles drunk
    let empty = numBottles;  // empty bottles after drinking
    
    while (empty >= numExchange) {
        // Exchange empty bottles for 1 full bottle
        empty -= numExchange;
        numExchange++;  // harder next time
        
        // Drink the new full bottle
        drunk++;
        empty++;
    }
    
    return drunk;
};

```

---

## Example Walkthrough

### Example 1

```
numBottles = 13, numExchange = 6

Step 1: Drink all 13 → drunk=13, empty=13
Exchange: 13 >= 6 → trade 6 empties, drunk=14, empty=8, numExchange=7
Exchange: 8 >= 7 → trade 7 empties, drunk=15, empty=2, numExchange=8
Now empty=2 < 8 → stop
Answer = 15
```

### Example 2

```
numBottles = 10, numExchange = 3

Step 1: Drink all 10 → drunk=10, empty=10
Exchange: 10 >= 3 → trade 3 empties, drunk=11, empty=8, numExchange=4
Exchange: 8 >= 4 → trade 4 empties, drunk=12, empty=5, numExchange=5
Exchange: 5 >= 5 → trade 5 empties, drunk=13, empty=1, numExchange=6
Now empty=1 < 6 → stop
Answer = 13
```

---
